<%#配送先新規登録と一覧表示%>
<div class="container">
    <div class="row">
        <h3 class="red-border bg-light m-4">配送先登録/一覧</h3>
    </div>

    <div class="row my-3">
        <div class="form-group col-10">
        <%= form_with model: @shipping_address_new, local:true do |f| %>

            <div class="form-group">
                    <div class="row">
                        <div class="col-sm-3">
                <%= f.label :郵便番号（ハイフンなし） %></div>
                <%= f.text_field :shipping_postal_code, class: "form-control offset-1 col-3", placeholder: "0000000" %>
                </div>
            </div>

            <div class="form-group">
                    <div class="row">
                        <div class="col-sm-3">
                <%= f.label :住所 %></div>
                <%= f.text_field :shipping_address, class: "form-control offset-1 col-6", placeholder: "住所" %>
                </div>
            </div>

            <div class="form-group">
                    <div class="row">
                        <div class="col-sm-3">
                <%= f.label :宛名 %></div>
                <%= f.text_field :name, class: "form-control offset-1 col-3", placeholder: "令和道子" %>
                <%= f.submit "新規登録", class: "btn btn-success offset-3" %>
                </div>
            </div>
        <% end %>
        </div>
    <%#配送先一覧表示///////////////////////////////////////////////////////////////////////%>
        <div class="offset col-10">
            <table class="table table-bordered text-center">
                <thead>
                    <tr class="border">
                        <th class="border bg-light">郵便番号</th>
                        <th class="border bg-light">住所</th>
                        <th class="border bg-light">宛名</th>
                        <th class="border bg-light">編集/削除</th>
                    </tr>
                </thead>
                <tbody>
                    <% @shipping_addresses.each do |shipping_address| %>
                    <tr class="border">
                        <th class="border"><%= shipping_address.shipping_postal_code %></th>
                        <th class="border"><%= shipping_address.shipping_address %></th>
                        <th class="border"><%= shipping_address.name %></th>

                        <td class="border"><%= link_to "編集する", edit_shipping_address_path(shipping_address.id), class: "btn btn-success btn-sm"%>
                            <%= link_to "削除する", "/shipping_address/#{shipping_address.id}/destroy", method: :deleat, data: {confirm: "本当に削除しますか？"}, class: "btn btn-danger btn-sm "%>
                        </td>
                    </tr>
                    <% end %>
                </tbody>
            </table>
        </div>
    </div>

    <div>
        <p class="text-center"><%= link_to "戻る", customer_path(current_customer.id), class: "mr-5"%></p>
    </div>
</div>